{% extends 'fibeWWWConfBundle::base.html.twig' %}

{% block title %}Person detail{% endblock title %}

{% block centerPanel %}
  {{ parent() }}
  <div class="row page-top-header ">
    <div class="page-title col-xs-5  col-sm-4 col-md-3 col-lg-2">
      <span>Person details</span>
      <a class="btn btn-info" href="{{ path('documentation', { 'anchor': 'Person' }) }}" title="Help">
        <i class="fa fa-question"></i>
      </a>
    </div>

    <div class="col-xs-2 col-sm-4 col-md-6 col-lg-8">
    </div>
    <div class="page-btn-list col-xs-5  col-sm-4 col-md-3 col-lg-2">
      <a type="button" href="{{ path('schedule_person_index') }}" class="btn btn-warning" title="Go back to the list">
        <i class="fa fa-list"></i>
      </a>
      {% if is_granted('EDIT', entity) %}
        <a href="{{ path('schedule_person_edit', { 'id': entity.id }) }}" class="btn btn-success edit"
           title="Edit person">
          <i class="fa fa-pencil"></i>
        </a>
      {% endif %}
      {% if is_granted('DELETE', entity) %}
        <form action="{{ path('schedule_person_delete', { 'id': entity.id }) }}" method="post">
          <input type="hidden" name="_method" value="DELETE"/>
          {{ form_widget(delete_form) }}
          <button type="submit" class="btn btn-danger delete" title="Remove person">
            <i class="fa fa-trash-o"></i>
          </button>
        </form>
      {% endif %}
    </div>
  </div>
  <div class="row page-content">


    <div class="col-lg-12">
      <h2> {{ entity.name }}</h2>
      <table class="table table-hover record_properties">
        <tbody>
        <tr>
          <th>Id</th>
          <td>{{ entity.id }}</td>
        </tr>
        <tr>
          <th>Name</th>
          <td>{{ entity.name }}</td>
        </tr>
        <tr>
          <th>Family name</th>
          <td>{{ entity.familyName }}</td>
        </tr>
        <tr>
          <th>Age</th>
          <td>{{ entity.age }}</td>
        </tr>
        <tr>
          <th>Email</th>
          <td>{{ entity.email }}</td>
        </tr>
        {% if app.user.getCurrentConf().getModule().getOrganizationModule() == 1 %}
          <tr>
            <th>Organization</th>
            <td> {% for organization in entity.organizations %}
                <li>
                  <a href="{{ path('schedule_organization_show', { 'id': organization.id }) }}">
                    {{ organization.name|e }}
                  </a>
                </li>
              {% endfor %}
            </td>
          </tr>
        {% endif %}
        {% if app.user.getCurrentConf().getModule().getPaperModule() == 1 %}
          <tr>
            <th>Papers</th>
            <td> {% for paper in entity.papers %}
                <li>
                  <a href="{{ path('schedule_paper_show', { 'id': paper.id }) }}">
                    {{ paper.title|e }}
                  </a>
                </li>
              {% endfor %}
            </td>
          </tr>
        {% endif %}
        <tr>
          <th>Social Accounts</th>
          <td> {% for account in entity.accounts %}
              <li>{{ account.socialService.name|e }} : {{ account.accountName|e }} </li>
            {% endfor %}
          </td>
        </tr>
        <tr>
          <th>Image</th>
          <td><img src="{{ entity.img }} " style="height:10% width:auto"/></td>
        </tr>
        <tr>
          <th>Homepage</th>
          <td><a href="{{ entity.page }}" target="_blank">{{ entity.page }}</a></td>
        </tr>
        <tr>
          <th>Description</th>
          <td><textarea style="width:100%; height:200px;" disabled="true">{{ entity.description }}</textarea></td>
        </tr>
        <tr>
          <th>Open id</th>
          <td>{{ entity.openId }}</td>
        </tr>
        <tr>
          <th>Presenter At</th>
          <td>
            {% for role in entity.roles %}
              {% if role.getType() == "Presenter" %}
                <li>
                  <a href="{{ path('schedule_confevent_show', { 'id': role.getEvent().getId() }) }}">
                    {{ role.getEvent().getSummary() }}
                  </a>
                </li>
              {% endif %}
            {% endfor %}
          </td>
        </tr>
        <tr>
          <th>Chair At</th>
          <td>
            {% for role in entity.roles %}
              {% if role.getType() == "Chair" %}
                <li>
                  <a href="{{ path('schedule_confevent_show', { 'id': role.getEvent().getId() }) }}">
                    {{ role.getEvent().getSummary() }}
                  </a>
                </li>
              {% endif %}
            {% endfor %}
          </td>
        </tr>
        <tr>
          <th>Delegate At</th>
          <td>
            {% for role in entity.roles %}
              {% if role.getType() == "Delegate" %}
                <li>
                  <a href="{{ path('schedule_confevent_show', { 'id': role.getEvent().getId() }) }}">
                    {{ role.getEvent().getSummary() }}
                  </a>
                </li>
              {% endif %}
            {% endfor %}
          </td>
        </tr>
        <tr>
          <th>Program Committee Member At</th>
          <td>
            {% for role in entity.roles %}
              {% if role.getType() == "ProgrammeCommitteeMember" %}
                <li>
                  <a href="{{ path('schedule_confevent_show', { 'id': role.getEvent().getId() }) }}">
                    {{ role.getEvent().getSummary() }}
                  </a>
                </li>
              {% endif %}
            {% endfor %}
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

{% endblock %}
